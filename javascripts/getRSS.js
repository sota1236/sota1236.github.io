(function(){var t,e,n;google.load("feeds",1),n={github:"https://github.com/sota1235.atom",blog:"http://sota1235.com/feed.xml"},t=function(t){var e,n,o;return e=$.Deferred(),n=new google.feeds.Feed(t),o=[],n.load(function(t){var n,i,r;for(t.error&&e.reject(error),i=r=0;5>=r&&(n=t.feed.entries[i],n);i=++r)o.push({link:n.link,title:n.title,content:n.contentSnippet+"...",date:n.publishedDate});return e.resolve(o)}),e.promise()},e=function(t,e){var n,o,i,r,a,l,c,d;for($(t+" .loader").fadeOut(1e3),$(t).append($('<div class="activity"></div>')),d=[],l=0,c=e.length;c>l;l++)o=e[l],i=$(t+" .activity"),i.hide(),a=$('<a class="activity_title"></div>').attr("href",o.link).text(o.title),r=$('<span class="activity_date"></div>').text(o.date),n=$('<div class="activity_content"></div>').text(o.content),i.append(a).append(r).append(n),d.push(setTimeout(function(){return i.show()},1e3));return d},google.setOnLoadCallback(function(){return t(n.github).then(function(t){console.log("Get feed from github is completed"),e(".github_activity",t)}).then(function(){return t(n.blog)}).then(function(t){console.log("Get feed from blog is copmleted"),e(".blog_activity",t)}).fail(function(t){return console.error(t)})})}).call(this);